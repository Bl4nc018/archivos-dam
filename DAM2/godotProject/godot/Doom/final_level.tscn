[gd_scene load_steps=27 format=3 uid="uid://c4q1w3snlnb3c"]

[ext_resource type="Script" path="res://final_level.gd" id="1_c8ly2"]
[ext_resource type="Texture2D" uid="uid://vdsruiur627o" path="res://Texturas Doom/ROCKRED1.png" id="1_nw5m7"]
[ext_resource type="Texture2D" uid="uid://ctyagr6fgo6ql" path="res://Texturas Doom/LITERED.png" id="2_nqcbc"]
[ext_resource type="Texture2D" uid="uid://cd4ncv611nxvd" path="res://Texturas Doom/SKULWAL3.png" id="3_u8gqn"]
[ext_resource type="Texture2D" uid="uid://b8r854cek65ui" path="res://Texturas Doom/BIGDOOR4.png" id="4_i8yc1"]
[ext_resource type="PackedScene" uid="uid://bq6s7i8a6fie3" path="res://player.tscn" id="5_occuj"]
[ext_resource type="PackedScene" uid="uid://diyrmus0xrmj1" path="res://Enemigos/boss.tscn" id="6_hu0oi"]
[ext_resource type="PackedScene" uid="uid://dekj5bxfce70m" path="res://Enemigos/zombie.tscn" id="7_4t6ho"]
[ext_resource type="AudioStream" uid="uid://msufk0ca6utb" path="res://assets/11. Going After Hitler.mp3" id="8_ygjj0"]
[ext_resource type="PackedScene" uid="uid://blm7q0ti77v0c" path="res://pause_menu.tscn" id="10_cbjwv"]
[ext_resource type="PackedScene" uid="uid://bqjxlo6kksgvy" path="res://Coleccionables/ammo.tscn" id="12_5lblc"]
[ext_resource type="PackedScene" uid="uid://kfc843eoif0p" path="res://Coleccionables/health.tscn" id="13_bjmu7"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_u1l2a"]
albedo_texture = ExtResource("1_nw5m7")
uv1_scale = Vector3(5.92, 1, 5.92)
uv1_triplanar = true

[sub_resource type="PlaneMesh" id="PlaneMesh_tnqba"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yencj"]
albedo_texture = ExtResource("2_nqcbc")
uv1_scale = Vector3(5.92, 1, 5.92)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_npk8n"]
albedo_texture = ExtResource("3_u8gqn")
uv1_scale = Vector3(0.1, 2.5, 12)
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_1feky"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_ox6kl"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4xc8x"]
albedo_texture = ExtResource("3_u8gqn")
uv1_scale = Vector3(0.1, 2.5, 12)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0thdm"]
albedo_texture = ExtResource("3_u8gqn")
uv1_scale = Vector3(0.1, 2.5, 12)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_i8b1y"]
albedo_texture = ExtResource("3_u8gqn")
uv1_scale = Vector3(0.1, 2.5, 12)
uv1_triplanar = true

[sub_resource type="Environment" id="Environment_7dykg"]
background_mode = 1
background_color = Color(0.45098, 0.45098, 0.45098, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_oq085"]
albedo_texture = ExtResource("4_i8yc1")
uv1_scale = Vector3(0.1, 1, 1)
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_cxb18"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_hc8md"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_a4dl4"]

[node name="FinalLevel" type="Node3D"]
script = ExtResource("1_c8ly2")

[node name="finalLevel" type="Node3D" parent="."]

[node name="Floor" type="MeshInstance3D" parent="finalLevel"]
transform = Transform3D(5.925, 0, 0, 0, 1, 0, 0, 0, 5.925, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_u1l2a")
mesh = SubResource("PlaneMesh_tnqba")
skeleton = NodePath("../..")

[node name="Floor2" type="MeshInstance3D" parent="finalLevel"]
transform = Transform3D(5.925, 0, 0, 0, -1, 0, 0, 5.96046e-08, -5.925, 0, 2.4, 0)
material_override = SubResource("StandardMaterial3D_yencj")
mesh = SubResource("PlaneMesh_tnqba")
skeleton = NodePath("../..")

[node name="MapWall" type="MeshInstance3D" parent="finalLevel"]
transform = Transform3D(-0.102, 0, 1.81195e-06, 0, 2.5, 0, -1.54016e-08, 0, -12, -5.9, 1.2, 1.41561e-07)
material_override = SubResource("StandardMaterial3D_npk8n")
mesh = SubResource("BoxMesh_1feky")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="finalLevel/MapWall"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="finalLevel/MapWall/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_ox6kl")

[node name="MapWall2" type="MeshInstance3D" parent="finalLevel"]
transform = Transform3D(-0.102, 0, 1.81195e-06, 0, 2.5, 0, -1.54016e-08, 0, -12, 5.9, 1.2, 1.41561e-07)
material_override = SubResource("StandardMaterial3D_4xc8x")
mesh = SubResource("BoxMesh_1feky")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="finalLevel/MapWall2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="finalLevel/MapWall2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_ox6kl")

[node name="MapWall3" type="MeshInstance3D" parent="finalLevel"]
transform = Transform3D(1.98601e-08, 0, 12, 0, 2.5, 0, -0.102, 0, 2.33649e-06, 3.7998e-07, 1.2, 5.9)
material_override = SubResource("StandardMaterial3D_0thdm")
mesh = SubResource("BoxMesh_1feky")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="finalLevel/MapWall3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="finalLevel/MapWall3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_ox6kl")

[node name="MapWall4" type="MeshInstance3D" parent="finalLevel"]
transform = Transform3D(1.98601e-08, 0, 12, 0, 2.5, 0, -0.102, 0, 2.33649e-06, 3.7998e-07, 1.2, -6)
material_override = SubResource("StandardMaterial3D_i8b1y")
mesh = SubResource("BoxMesh_1feky")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="finalLevel/MapWall4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="finalLevel/MapWall4/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_ox6kl")

[node name="WorldEnvironment" type="WorldEnvironment" parent="finalLevel"]
environment = SubResource("Environment_7dykg")

[node name="Luz" type="DirectionalLight3D" parent="finalLevel/WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 2.63968, 0)

[node name="ExitDoor" type="MeshInstance3D" parent="finalLevel"]
transform = Transform3D(-1.71264e-07, -1.74846e-07, 1, -2.99447e-14, 1, 1.74846e-07, -0.1, 0, -1.71264e-06, 0.0223899, 0.5, -5.87374)
material_override = SubResource("StandardMaterial3D_oq085")
mesh = SubResource("BoxMesh_cxb18")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="finalLevel/ExitDoor"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="finalLevel/ExitDoor/StaticBody3D"]
transform = Transform3D(1, 2.1684e-19, 0, 3.38813e-21, 1, -1.42109e-14, 0, 1.42109e-14, 1, 0, 0, 0)
shape = SubResource("ConcavePolygonShape3D_hc8md")

[node name="Door" type="MeshInstance3D" parent="finalLevel"]
transform = Transform3D(-1.71264e-07, -1.74846e-07, 1, -2.99447e-14, 1, 1.74846e-07, -0.1, 0, -1.71264e-06, 0.0223899, 0.5, 5.82626)
material_override = SubResource("StandardMaterial3D_oq085")
mesh = SubResource("BoxMesh_cxb18")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="finalLevel/Door"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="finalLevel/Door/StaticBody3D"]
transform = Transform3D(1, 2.1684e-19, 0, 3.38813e-21, 1, -1.42109e-14, 0, 1.42109e-14, 1, 0, 0, 0)
shape = SubResource("ConcavePolygonShape3D_hc8md")

[node name="Coleccionables" type="Node3D" parent="."]

[node name="Ammo" parent="Coleccionables" instance=ExtResource("12_5lblc")]
transform = Transform3D(0.45, 0, 0, 0, 0.45, 0, 0, 0, 0.45, -5.4, 0, 4.5)

[node name="Ammo4" parent="Coleccionables" instance=ExtResource("12_5lblc")]
transform = Transform3D(0.45, 0, 0, 0, 0.45, 0, 0, 0, 0.45, -4.6, 0, 5.2)

[node name="Ammo2" parent="Coleccionables" instance=ExtResource("12_5lblc")]
transform = Transform3D(0.45, 0, 0, 0, 0.45, 0, 0, 0, 0.45, 4, 0, -5.5)

[node name="Ammo3" parent="Coleccionables" instance=ExtResource("12_5lblc")]
transform = Transform3D(0.45, 0, 0, 0, 0.45, 0, 0, 0, 0.45, 5, 0, -4.5)

[node name="Health" parent="Coleccionables" instance=ExtResource("13_bjmu7")]
transform = Transform3D(0.45, 0, 0, 0, 0.45, 0, 0, 0, 0.45, -5.4, 0, 5.3)

[node name="Health2" parent="Coleccionables" instance=ExtResource("13_bjmu7")]
transform = Transform3D(0.45, 0, 0, 0, 0.45, 0, 0, 0, 0.45, 4.9, 0, -5.4)

[node name="Player" parent="." groups=["player"] instance=ExtResource("5_occuj")]
transform = Transform3D(-0.45, 0, -3.93403e-08, 0, 0.45, 0, 3.93403e-08, 0, -0.45, 0, 0, -5.6)

[node name="Boss" parent="." groups=["enemy"] instance=ExtResource("6_hu0oi")]
collision_layer = 1
collision_mask = 1

[node name="Zombie" parent="." groups=["enemy"] instance=ExtResource("7_4t6ho")]
transform = Transform3D(0.45, 0, 0, 0, 0.45, 0, 0, 0, 0.45, 3, 0, 0)

[node name="Zombie2" parent="." groups=["enemy"] instance=ExtResource("7_4t6ho")]
transform = Transform3D(0.45, 0, 0, 0, 0.45, 0, 0, 0, 0.45, -3.3, 0, 0)

[node name="Zombie3" parent="." groups=["enemy"] instance=ExtResource("7_4t6ho")]
transform = Transform3D(0.45, 0, 0, 0, 0.45, 0, 0, 0, 0.45, -3.3, 0, -2.6)

[node name="Zombie4" parent="." groups=["enemy"] instance=ExtResource("7_4t6ho")]
transform = Transform3D(0.45, 0, 0, 0, 0.45, 0, 0, 0, 0.45, 2.1, 0, -2.6)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_ygjj0")
autoplay = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="PauseMenu" parent="CanvasLayer" instance=ExtResource("10_cbjwv")]

[node name="LevelChanger" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.00537, 0, -5.9)
collision_layer = 3
collision_mask = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="LevelChanger"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 12)
shape = SubResource("BoxShape3D_a4dl4")

[connection signal="body_entered" from="LevelChanger" to="." method="_on_level_changer_body_entered"]
